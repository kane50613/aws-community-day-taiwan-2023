---
import { BalancerTitle } from "./BalancerTitle";
import { Image } from "astro:assets";
import { cn } from "../lib/utils";

const { title, speaker, avatar = [], fill, description, href } = Astro.props;
---

<div
	class="flex flex-col-reverse items-start gap-2 px-2 py-2.5 text-center sm:flex-row sm:items-center md:gap-4 md:py-4"
>
	<div class="flex flex-shrink-0 gap-2">
		{
			avatar?.map((image) => (
				<Image
					alt={speaker ?? "講者頭像"}
					src={image}
					class={cn(
						"aspect-square w-10 rounded-full object-contain md:w-16",
						fill && "bg-white",
					)}
					width="128"
					loading="lazy"
				/>
			))
		}
	</div>
	<div class="flex flex-col items-start gap-1 text-start">
		{
			title && (
				<BalancerTitle className="text-xs font-medium leading-loose md:text-base">
					{title}
				</BalancerTitle>
			)
		}
		<div class="text-xs sm:text-sm">
			{
				// anchor link will have left space if prettier format that
				// prettier-ignore
				href ? (
					<a href={href} target="_blank" class="mr-1.5 text-blue-400 underline">{speaker}</a>
				) : (
					<span class="mr-1.5 text-white/70">{speaker}</span>
				)
			}
			{description && <span class="text-xs text-white/60">{description}</span>}
		</div>
		<slot name="extra-speaker" />
	</div>
</div>
